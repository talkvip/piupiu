<html>
<head>
  <title>TEST</title>
  <script type="text/javascript" src="base32.js"></script>
  <script type="text/javascript" src="reedsolomon.js/reedsolomon.js"></script>
  <script type="text/javascript" src="meteor-sonicnetjs/ring-buffer.js"></script>
  <script type="text/javascript" src="meteor-sonicnetjs/sonic-coder.js"></script>
  <script type="text/javascript" src="meteor-sonicnetjs/sonic-server.js"></script>
  <script type="text/javascript" src="meteor-sonicnetjs/sonic-socket.js"></script>
  <script type="text/javascript" src="json2.js"></script>
  <script type="text/javascript" src="chirp.js"></script>
  <script type="text/javascript" src="piupiu.js"></script>
</head>
<body>
  URL: <input type="url" id="url" value="http://www.google.be" />
  <button id="message">CHIRP TEST</button>

  <script>

  var button = document.querySelector('#message');
  button.addEventListener('click', onButton);
 
  var chirp = new Chirp();

  function newChirp(data) {
    console.log(data);
    data.obj.play();
  }

  function onButton() {
    var a = document.createElement('a');
    a.href = document.querySelector('#url').value;
    chirp.create({title: a.hostname, url: document.querySelector('#url').value}, 'newChirp');
  }

  /*
  // On some other machine:
  sserver = new SonicServer({alphabet: ALPHABET});
  sserver.on('message', function(message) {
  // message is '31415'. Do something with it.
  console.log(message);
  });
  sserver.start();
  */
  </script>
</body>
</html>